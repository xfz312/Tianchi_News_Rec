# ğŸ“° Tianchi News Recommendation - ItemCF Baseline

> é˜¿é‡Œäº‘å¤©æ± â€œæ–°é—»æ¨èåœºæ™¯ä¸‹çš„ç”¨æˆ·è¡Œä¸ºé¢„æµ‹â€æŒ‘æˆ˜èµ› - å¬å›é˜¶æ®µåŸºçº¿æ–¹æ¡ˆ

![Python](https://img.shields.io/badge/Python-3.11-blue) ![PyTorch](https://img.shields.io/badge/PyTorch-2.0-orange) ![Status](https://img.shields.io/badge/Status-Baseline-green)

## ğŸ“– é¡¹ç›®èƒŒæ™¯ (Background)
æœ¬é¡¹ç›®è‡´åŠ›äºè§£å†³æ–°é—»æ¨èåœºæ™¯ä¸‹çš„**å†·å¯åŠ¨**ä¸**ä¸ªæ€§åŒ–å¬å›**é—®é¢˜ã€‚åŸºäºå¤§è§„æ¨¡ç”¨æˆ·ç‚¹å‡»æ—¥å¿—ï¼ˆClick Logsï¼‰ï¼Œæ„å»ºç”¨æˆ·å…´è¶£ç”»åƒï¼Œå¹¶é¢„æµ‹ç”¨æˆ·æœªæ¥å¯èƒ½ç‚¹å‡»çš„æ–°é—»æ–‡ç« ã€‚

å½“å‰ç‰ˆæœ¬å®ç°äº† **åŸºäºç‰©å“çš„ååŒè¿‡æ»¤ (Item-based Collaborative Filtering)** ç®—æ³•ï¼Œä½œä¸ºæ•´ä¸ªæ¨èç³»ç»Ÿçš„å¬å›ï¼ˆRecallï¼‰åŸºçº¿ã€‚

## ğŸ› ï¸ æ ¸å¿ƒç®—æ³• (Algorithm)
æœ¬é¡¹ç›®æ²¡æœ‰ç›´æ¥è°ƒç”¨ç°æˆåº“ï¼Œè€Œæ˜¯**æ‰‹å†™å®ç°**äº†å¸¦æœ‰å·¥ä¸šç•Œå¸¸ç”¨ Trick çš„ ItemCF ç®—æ³•ï¼š

### 1. ç›¸ä¼¼åº¦è®¡ç®— (Similarity Calculation)
æˆ‘ä»¬é‡‡ç”¨ **ä½™å¼¦ç›¸ä¼¼åº¦ (Cosine Similarity)** è¡¡é‡ç‰©å“é—´çš„å…±ç°å…³ç³»ï¼Œå¹¶å¼•å…¥äº†ä»¥ä¸‹ä¼˜åŒ–ï¼š

* **ç”¨æˆ·æ´»è·ƒåº¦æƒ©ç½š (IUF - Inverse User Frequency)**:
    é™ä½æ´»è·ƒç”¨æˆ·ï¼ˆç‚¹å‡»ç‹‚é­”ï¼‰å¯¹ç‰©å“ç›¸ä¼¼åº¦çš„è´¡çŒ®ã€‚å…¬å¼å¦‚ä¸‹ï¼š
    $$w_{ij} = \frac{\sum_{u \in U(i) \cap U(j)} \frac{1}{\log(1+|N(u)|)}}{\sqrt{|N(i)| \cdot |N(j)|}}$$
    
* **å½’ä¸€åŒ– (Normalization)**: 
    é€šè¿‡åˆ†æ¯ $\sqrt{|N(i)| \cdot |N(j)|}$ æ¶ˆé™¤çƒ­é—¨ç‰©å“çš„åå·®ã€‚

### 2. æ¨èç­–ç•¥ (Recommendation)
* **ä¸ªæ€§åŒ–å¬å›**: åŸºäºç”¨æˆ·å†å²è¡Œä¸ºåºåˆ—è¿›è¡Œç›¸ä¼¼ç‰©å“æ¨èã€‚
* **å†·å¯åŠ¨å¤„ç† (Cold Start)**: å®ç°äº† **å…¨å±€çƒ­é—¨è¡¥å…¨ (Most Popular Fallback)** ç­–ç•¥ï¼Œè§£å†³æ–°ç”¨æˆ·æˆ–å†å²è¡Œä¸ºç¨€ç–ç”¨æˆ·çš„æ¨èé—®é¢˜ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„ (Structure)
```text
Tianchi_News_Rec/
â”œâ”€â”€ code/                   # æ ¸å¿ƒä»£ç ç›®å½•
â”‚   â”œâ”€â”€ config.py           # [é…ç½®] è·¯å¾„ä¸å…¨å±€å‚æ•°é…ç½®
â”‚   â”œâ”€â”€ data_loader.py      # [æ•°æ®] æ•°æ®è¯»å–ã€æ¸…æ´—ä¸é¢„å¤„ç†
â”‚   â”œâ”€â”€ itemcf.py           # [æ ¸å¿ƒ] ItemCF ç®—æ³•å®ç° (ç›¸ä¼¼åº¦è®¡ç®— & æ¨è)
â”‚   â”œâ”€â”€ submit.py           # [å·¥å…·] æäº¤æ–‡ä»¶ç”Ÿæˆ
â”‚   â”œâ”€â”€ utils.py            # [å·¥å…·] å†…å­˜å‹ç¼©ç­‰é€šç”¨å·¥å…·
â”‚   â””â”€â”€ main.py             # [å…¥å£] ä¸»ç¨‹åº
â”œâ”€â”€ tcdata/                 # (Gitå¿½ç•¥) åŸå§‹æ•°æ®é›†
â”œâ”€â”€ user_data/              # (Gitå¿½ç•¥) ä¸­é—´ç»“æœï¼Œå¦‚ pickle ç¼“å­˜
â”œâ”€â”€ prediction_result/      # (Gitå¿½ç•¥) æœ€ç»ˆç”Ÿæˆçš„ result.csv
â”œâ”€â”€ requirements.txt        # ä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿè¿è¡Œ (Quick Start)

### 1. ç¯å¢ƒå‡†å¤‡
```bash
pip install -r requirements.txt
```

### 2. æ•°æ®å‡†å¤‡
è¯·å‰å¾€ é˜¿é‡Œäº‘å¤©æ± å®˜ç½‘ ä¸‹è½½æ•°æ®é›†ï¼Œè§£å‹å¹¶æ”¾å…¥ tcdata/ ç›®å½•ï¼Œç¡®ä¿ç»“æ„å¦‚ä¸‹ï¼š
tcdata/train_click_log.csv
tcdata/testA_click_log.csv
tcdata/articles.csv

### 3. è¿è¡Œä»£ç 
```bash
python code/main.py
```

ç¨‹åºå°†è‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼š
Â· è¯»å–æ•°æ®å¹¶è¿›è¡Œå†…å­˜å‹ç¼©ï¼ˆMemory Reductionï¼‰ã€‚
Â· æ„å»º User-Item-Time å€’æ’ç´¢å¼•ã€‚
Â· è®¡ç®— Item-Item ç›¸ä¼¼åº¦çŸ©é˜µï¼ˆè®¡ç®—åä¼šè‡ªåŠ¨ä¿å­˜ä¸º .pkl æ–‡ä»¶ï¼Œä¸‹æ¬¡è¿è¡Œç›´æ¥åŠ è½½ï¼‰ã€‚
Â· ä¸ºæµ‹è¯•é›†ç”¨æˆ·ç”Ÿæˆ Top-5 æ¨èã€‚
Â· åœ¨ prediction_result/ ä¸‹ç”Ÿæˆ result.csvã€‚`

## ğŸ“Š å®éªŒç»“æœ (Experiments & Results)

| Version | Method | Strategies | Score (Online) | Improvement |
| :--- | :--- | :--- | :--- | :--- |
| **v1.0** | ItemCF (Baseline) | Basic Co-occurrence | 0.1026  | - |
| **v1.1** | **ItemCF (Optimized)** | **+ IUF (Inverse User Freq)**<br>**+ Position Weight**<br>**+ Time Decay** | **0.1503** | **+40% ğŸš€** |

> **Note**: 
> * **IUF**: é™ä½æ´»è·ƒç”¨æˆ·å¯¹ç›¸ä¼¼åº¦çš„è´¡çŒ®ï¼Œå‡å°‘å™ªéŸ³ã€‚
> * **Position Weight**: åºåˆ—ä¸­è·ç¦»è¶Šè¿‘çš„æ–‡ç« ï¼Œæƒé‡è¶Šé«˜ (0.9^distance)ã€‚
> * **Time Decay**: ä¼˜å…ˆæ¨èç”¨æˆ·è¿‘æœŸæ„Ÿå…´è¶£çš„å†…å®¹ã€‚